<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>HolderClientApp.h</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
ï»¿// Sys/HolderClientApp.h - helper for store value of template type
#pragma once
namespace Sys { 
class HolderClientApp {
	union {
		const Ty::CurClientApp&lt; DxVer::v9 &gt; *m_pDx9;
		const Ty::CurClientApp&lt; DxVer::v10 &gt; *m_pDx10; 
		const Ty::CurClientApp&lt; DxVer::v11 &gt; *m_pDx11;
		const Ty::CurClientApp&lt; DxVer::v12 &gt; *m_pDx12;
		const void *m_pInitAll_;
	};
	const int m_iTypeId;
public:
	template&lt;class T, typename = typename std::enable_if_t&lt; std::is_base_of_v&lt; DxVerBase, T &gt; &gt; &gt;
	explicit HolderClientApp(Ty::CurClientApp&lt; T &gt; *p) 
<span style = "background-color:#fdd">		: m_pInitAll_( nullptr ), m_iTypeId( T::m_version )
	{
       if ( false ) ;
       else if ( DxVer::v9::m_version == m_iTypeId )
           m_pDx9 = (Ty::CurClientApp&lt; DxVer::v9 &gt; *)p;
       else if ( DxVer::v10::m_version == m_iTypeId )
           m_pDx10 = (Ty::CurClientApp&lt; DxVer::v10 &gt; *)p;
       else if ( DxVer::v11::m_version == m_iTypeId )
           m_pDx11 = (Ty::CurClientApp&lt; DxVer::v11 &gt; *)p;
       else if ( DxVer::v12::m_version == m_iTypeId )
           m_pDx12 = (Ty::CurClientApp&lt; DxVer::v12 &gt; *)p;</span>
		else 
<span style = "background-color:#fdd">			Sys::ErrorHandler::showMsgAndExit( "select client app version" );
	}</span>
	template&lt;class T&gt;
	typename std::enable_if_t&lt; std::is_base_of_v&lt; DxVerBase, T &gt;, Ty::CurClientApp&lt; T &gt; * &gt;
	static 
<span style = "background-color:#fdd">	get(const HolderClientApp &amp;holder) {
		if ( T::m_version == holder.m_iTypeId )
			return (Ty::CurClientApp&lt; T &gt; *)holder.m_pDx9;
		return nullptr;
	}</span>
};
} // namespace Sys</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>